#!/usr/local/bin/perl

eval 'exec /usr/local/bin/perl -S $0 ${1+"$@"}'
  if 0;    # not running under some shell

use strict;
use warnings;
use Getopt::Long;
use Mason::Tidy;

my $help;
GetOptions(
    'h|help'     => \$help,
    );

usage() if $help || @ARGV > 1;
my $source = do { local $/; <> };
my $dest = Mason::Tidy->tidy($source);
print "$dest\n";
